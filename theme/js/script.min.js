(()=>{var n=i=>i?i.querySelectorAll('button:not([disabled]), [href], input:not([disabled]), select:not([disabled]), textarea:not([disabled]), [tabindex]:not([tabindex="-1"]):not([disabled]), details:not([disabled]), summary:not(:disabled)'):(console.warn("You need to pass a parent HTMLElement"),[]);var a=class extends HTMLElement{constructor(){super();let e=this;this.state=new Proxy({status:"open",enabled:!1},{set(s,t,r){let l=s[t];return s[t]=r,l!==r&&e.processStateChange(),s}})}get maxWidth(){return parseInt(this.getAttribute("max-width")||9999,10)}connectedCallback(){this.initialMarkup=this.innerHTML,this.render(),new ResizeObserver(s=>{let{contentRect:t}=s[0];this.state.enabled=t.width<=this.maxWidth}).observe(this.parentNode)}render(){this.innerHTML=`
      <div class="burger-menu" data-element="burger-root">
        <button class="burger-menu__trigger" data-element="burger-menu-trigger" type="button" aria-label="Open menu">
          <span class="burger-menu__bar" aria-hidden="true"></span>
        </button>
        <div class="burger-menu__panel" data-element="burger-menu-panel">
          ${this.initialMarkup} 
        </div>
      </div>
    `,this.postRender()}postRender(){if(this.trigger=this.querySelector('[data-element="burger-menu-trigger"]'),this.panel=this.querySelector('[data-element="burger-menu-panel"]'),this.root=this.querySelector('[data-element="burger-root"]'),this.focusableElements=n(this),this.trigger&&this.panel){this.toggle(),this.trigger.addEventListener("click",e=>{e.preventDefault(),this.toggle()}),document.addEventListener("focusin",()=>{this.contains(document.activeElement)||this.toggle("closed")});return}this.innerHTML=this.initialMarkup}toggle(e){if(e){if(this.state.status===e)return;this.state.status=e}else this.state.status=this.state.status==="closed"?"open":"closed"}processStateChange(){switch(this.root.setAttribute("status",this.state.status),this.root.setAttribute("enabled",this.state.enabled?"true":"false"),this.manageFocus(),this.state.status){case"closed":this.trigger.setAttribute("aria-expanded","false"),this.trigger.setAttribute("aria-label","Open menu");break;case"open":case"initial":this.trigger.setAttribute("aria-expanded","true"),this.trigger.setAttribute("aria-label","Close menu");break}}manageFocus(){if(!this.state.enabled){this.focusableElements.forEach(e=>e.removeAttribute("tabindex"));return}switch(this.state.status){case"open":this.focusableElements.forEach(e=>e.removeAttribute("tabindex"));break;case"closed":[...this.focusableElements].filter(e=>e.getAttribute("data-element")!=="burger-menu-trigger").forEach(e=>e.setAttribute("tabindex","-1"));break}}},o=a;"customElements"in window&&customElements.define("burger-menu",o);(function(){let e=Array.from(document.querySelectorAll(".reel")),s=t=>{t.classList.toggle("overflowing",t.scrollWidth>t.clientWidth)};for(let t of e)"ResizeObserver"in window&&new ResizeObserver(r=>{s(r[0].target)}).observe(t),"MutationObserver"in window&&new MutationObserver(r=>{s(r[0].target)}).observe(t,{childList:!0})})();})();
